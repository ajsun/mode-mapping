<link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
    integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
    crossorigin="">
<script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
    integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
    crossorigin=""></script>
<script src='https://cdn.jsdelivr.net/npm/leaflet-curve@1.0.0/leaflet.curve.min.js'></script>
<link rel="stylesheet" href="./mapping.css">
<script src="./mapping.js"></script>
<div id='box'>

    <div id='chart_7937b5ae6693'>
    </div>

</div>
<script>
    var datasets = [
        {
            token: "c9e592ebc82f",
            query_token: "c9e592ebc82f",
            content: [
                { geojson: '{"features": [{"geometry": {"coordinates": [[[-122.25311279296874, 37.81873440498779], [-122.2514820098877, 37.816361284800024], [-122.24925041198732, 37.81120796113546], [-122.23998069763182, 37.80795304506878], [-122.22890853881837, 37.8046979855249], [-122.21938133239746, 37.80876678753658], [-122.21500396728514, 37.81283536536355], [-122.21199989318848, 37.817717362820495], [-122.20779418945311, 37.82137864904243], [-122.2174072265625, 37.83297152392784], [-122.23208427429198, 37.82612449051306], [-122.25311279296874, 37.81873440498779]]], "type": "Polygon"}, "properties": {}, "type": "Feature"}], "type": "FeatureCollection"}', gh6: '9q8yyn', avg_battery: 54, lat: 37.762946166, lng: -122.4329126, to_lat: 37.762946166, to_lng: -122.4129126 },
                { geojson: '{"features": [{"geometry": {"coordinates": [[[-122.25311279296874, 37.81873440498779], [-122.2514820098877, 37.816361284800024], [-122.24925041198732, 37.81120796113546], [-122.23998069763182, 37.80795304506878], [-122.22890853881837, 37.8046979855249], [-122.21938133239746, 37.80876678753658], [-122.21500396728514, 37.81283536536355], [-122.21199989318848, 37.817717362820495], [-122.20779418945311, 37.82137864904243], [-122.2174072265625, 37.83297152392784], [-122.23208427429198, 37.82612449051306], [-122.25311279296874, 37.81873440498779]]], "type": "Polygon"}, "properties": {}, "type": "Feature"}], "type": "FeatureCollection"}', gh6: '9q8yyq', avg_battery: 14, lat: 37.742946166, lng: -122.4229126, to_lat: 37.762946166, to_lng: -122.4129126 },
                { geojson: '{"features": [{"geometry": {"coordinates": [[[-122.25311279296874, 37.81873440498779], [-122.2514820098877, 37.816361284800024], [-122.24925041198732, 37.81120796113546], [-122.23998069763182, 37.80795304506878], [-122.22890853881837, 37.8046979855249], [-122.21938133239746, 37.80876678753658], [-122.21500396728514, 37.81283536536355], [-122.21199989318848, 37.817717362820495], [-122.20779418945311, 37.82137864904243], [-122.2174072265625, 37.83297152392784], [-122.23208427429198, 37.82612449051306], [-122.25311279296874, 37.81873440498779]]], "type": "Polygon"}, "properties": {}, "type": "Feature"}], "type": "FeatureCollection"}', gh6: '9q8yym', avg_battery: 74, lat: 37.722946166, lng: -122.4429126, to_lat: 37.762946166, to_lng: -122.4129126 },
                { geojson: '{"features": [{"geometry": {"coordinates": [[[-122.25311279296874, 37.81873440498779], [-122.2514820098877, 37.816361284800024], [-122.24925041198732, 37.81120796113546], [-122.23998069763182, 37.80795304506878], [-122.22890853881837, 37.8046979855249], [-122.21938133239746, 37.80876678753658], [-122.21500396728514, 37.81283536536355], [-122.21199989318848, 37.817717362820495], [-122.20779418945311, 37.82137864904243], [-122.2174072265625, 37.83297152392784], [-122.23208427429198, 37.82612449051306], [-122.25311279296874, 37.81873440498779]]], "type": "Polygon"}, "properties": {}, "type": "Feature"}], "type": "FeatureCollection"}', gh6: '9q8yyk', avg_battery: 24, lat: 37.742946166, lng: -122.4329126, to_lat: 37.762946166, to_lng: -122.4129126 },
                { geojson: '{"features": [{"geometry": {"coordinates": [[[-122.25311279296874, 37.81873440498779], [-122.2514820098877, 37.816361284800024], [-122.24925041198732, 37.81120796113546], [-122.23998069763182, 37.80795304506878], [-122.22890853881837, 37.8046979855249], [-122.21938133239746, 37.80876678753658], [-122.21500396728514, 37.81283536536355], [-122.21199989318848, 37.817717362820495], [-122.20779418945311, 37.82137864904243], [-122.2174072265625, 37.83297152392784], [-122.23208427429198, 37.82612449051306], [-122.25311279296874, 37.81873440498779]]], "type": "Polygon"}, "properties": {}, "type": "Feature"}], "type": "FeatureCollection"}', gh6: '9q8yyx', avg_battery: 44, lat: 37.712946166, lng: -122.4229126, to_lat: 37.762946166, to_lng: -120.4129126 },
            ],
            columns: [
                { type: 'string', name: 'gh6' },
                { type: 'integer', name: 'avg_battery' },
                { type: 'float', name: 'lat' },
                { type: 'float', name: 'lng' },
                { type: 'string', name: 'geojson' },
            ],
            queryName: "Query 1"
        }
    ]
</script>
<script>
    (function () {
            mapping.plt.geohashes({
                map_id: 'chart_7937b5ae6693',
                token: '',
                query_name: 'Query 1',
                geohash_col: 'gh6',
                lat_col: 'lat',
                lng_col: 'lng',
                center: [37.716098, -122.415694],
                zoom: 10,
                color_by_col: 'avg_battery'
            })

    })()
</script>
<style>

    #box {
        border: red;
        height: 500px;
        width: 800px;
    }
</style>